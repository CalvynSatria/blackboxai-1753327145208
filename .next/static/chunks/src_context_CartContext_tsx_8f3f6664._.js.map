{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/context/CartContext.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useReducer, ReactNode } from \"react\";\n\nexport interface Product {\n  id: number;\n  name: string;\n  price: number;\n  image: string;\n  description: string;\n  category: string;\n  inStock: boolean;\n}\n\nexport interface CartItem {\n  id: number;\n  name: string;\n  price: number;\n  image: string;\n  description?: string;\n  category: string;\n  inStock: boolean;\n  quantity: number;\n}\n\ninterface CartState {\n  items: CartItem[];\n  total: number;\n}\n\ntype CartAction =\n  | { type: \"ADD_TO_CART\"; payload: Product }\n  | { type: \"REMOVE_FROM_CART\"; payload: number }\n  | { type: \"UPDATE_QUANTITY\"; payload: { id: number; quantity: number } }\n  | { type: \"CLEAR_CART\" };\n\nconst cartReducer = (state: CartState, action: CartAction): CartState => {\n  switch (action.type) {\n    case \"ADD_TO_CART\": {\n      const existingItem = state.items.find(item => item.id === action.payload.id);\n      \n      if (existingItem) {\n        const updatedItems = state.items.map(item =>\n          item.id === action.payload.id\n            ? { ...item, quantity: item.quantity + 1 }\n            : item\n        );\n        return {\n          items: updatedItems,\n          total: updatedItems.reduce((sum, item) => sum + item.price * item.quantity, 0),\n        };\n      } else {\n        const cartItem: CartItem = {\n          ...action.payload,\n          quantity: 1\n        };\n        const newItems = [...state.items, cartItem];\n        return {\n          items: newItems,\n          total: newItems.reduce((sum, item) => sum + item.price * item.quantity, 0),\n        };\n      }\n    }\n    \n    case \"REMOVE_FROM_CART\": {\n      const filteredItems = state.items.filter(item => item.id !== action.payload);\n      return {\n        items: filteredItems,\n        total: filteredItems.reduce((sum, item) => sum + item.price * item.quantity, 0),\n      };\n    }\n    \n    case \"UPDATE_QUANTITY\": {\n      const updatedItems = state.items.map(item =>\n        item.id === action.payload.id\n          ? { ...item, quantity: Math.max(0, action.payload.quantity) }\n          : item\n      ).filter(item => item.quantity > 0);\n      \n      return {\n        items: updatedItems,\n        total: updatedItems.reduce((sum, item) => sum + item.price * item.quantity, 0),\n      };\n    }\n    \n    case \"CLEAR_CART\":\n      return {\n        items: [],\n        total: 0,\n      };\n    \n    default:\n      return state;\n  }\n};\n\ninterface CartContextType {\n  state: CartState;\n  addToCart: (product: Product) => void;\n  removeFromCart: (id: number) => void;\n  updateQuantity: (id: number, quantity: number) => void;\n  clearCart: () => void;\n  getItemCount: () => number;\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined);\n\nexport const CartProvider = ({ children }: { children: ReactNode }) => {\n  const [state, dispatch] = useReducer(cartReducer, {\n    items: [],\n    total: 0,\n  });\n\n  const addToCart = (product: Product) => {\n    dispatch({ type: \"ADD_TO_CART\", payload: product });\n  };\n\n  const removeFromCart = (id: number) => {\n    dispatch({ type: \"REMOVE_FROM_CART\", payload: id });\n  };\n\n  const updateQuantity = (id: number, quantity: number) => {\n    dispatch({ type: \"UPDATE_QUANTITY\", payload: { id, quantity } });\n  };\n\n  const clearCart = () => {\n    dispatch({ type: \"CLEAR_CART\" });\n  };\n\n  const getItemCount = () => {\n    return state.items.reduce((count, item) => count + item.quantity, 0);\n  };\n\n  return (\n    <CartContext.Provider\n      value={{\n        state,\n        addToCart,\n        removeFromCart,\n        updateQuantity,\n        clearCart,\n        getItemCount,\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport const useCart = () => {\n  const context = useContext(CartContext);\n  if (context === undefined) {\n    throw new Error(\"useCart must be used within a CartProvider\");\n  }\n  return context;\n};\n"],"names":[],"mappings":"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","debugId":null}}]
}